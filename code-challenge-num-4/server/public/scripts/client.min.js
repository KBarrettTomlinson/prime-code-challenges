function init(){getListings(),enable(!0)}function enable(a){a&&($(".selectType").on("click",selectType),$("#submitListing").on("click",submitListing))}function submitListing(){if(void 0===createdListing.type||""===$("#submitCity").val()||""===$("#submitValue").val()||""===$("#submitSqft").val())return void $("#error").text("ERROR: ENTER ALL INFORMATION TO SUBMIT LISTING");createdListing.city=$("#submitCity").val(),createdListing.sqft=$("#submitSqft").val(),"house"===createdListing.type?(createdListing.cost=$("#submitValue").val(),postHouse(createdListing)):"apartment"===createdListing.type&&(createdListing.rent=$("#submitValue").val(),postApartment(createdListing)),$("#submitCity").val(""),$("#submitValue").val(""),$("#submitSqft").val(""),$(".selectType").removeClass("highlight"),createdListing={},$("#error").text("")}function selectType(){$(".selectType").removeClass("highlight"),$(this).addClass("highlight"),createdListing.type=$(this).data("type")}function appendListings(a){$("#listingContainer").empty();for(var b=a.length-1;b>=0;b--){$("#listingContainer").append("<div class='row listing'></div>");var c=$("#listingContainer").children().last();appendListing(a[b],c)}}function appendListing(a,b){a.cost?(b.append("<div class='lead col-md-3 listing-head'>House for Sale </div>"),b.append("<div class='lead col-md-3'>"+a.city+" </div>"),b.append("<div class='lead col-md-3'>$"+a.cost+" </div>"),b.append("<div class='lead col-md-3'>"+a.sqft+" sqft.</div>")):a.rent&&(b.append("<div class='lead col-md-3'>Apartment for Rent </div>"),b.append("<div class='lead col-md-3'>"+a.city+" </div>"),b.append("<div class='lead col-md-3'>$"+a.rent+" </div>"),b.append("<div class='lead col-md-3'>"+a.sqft+" sqft.</div>"))}function getListings(){$.ajax({type:"GET",url:"/listings",success:function(a){console.log(a),appendListings(a)}})}function postHouse(a){$.ajax({type:"POST",url:"/listings/house",data:a,success:function(a){getListings()}})}function postApartment(a){$.ajax({type:"POST",url:"/listings/apartment",data:a,success:function(a){getListings()}})}var createdListing={};$(document).ready(function(){init()});